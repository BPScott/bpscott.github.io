<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible> <title>Developing in the Open | Reload.me.uk</title> <meta name=viewport content="width=device-width, initial-scale=1"> <link href='https://fonts.googleapis.com/css?family=Noto+Serif' rel=stylesheet> <link href="/stylesheets/all.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Reload.me.uk - feed" href="http://feeds.feedburner.com/reloadmeuk"/> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-4167857-1', 'auto');
      ga('send', 'pageview');
    </script> </head> <body class="x2017 x2017_developing-in-the-open x2017_developing-in-the-open_index"> <div class=page-wrapper> <header class=page-header> <div class=header-title> <h1><a href="/">Reload.me.uk</a></h1> </div> <div class=header-nav> <ul class="nav nav--global"> <li><a href="/">Words</a></li> <li><a href="/about/">About</a></li> </ul> </div> </header> <div class=page-content> <article class="article article--full"> <header> <h1 class=article__title>Developing in the Open</h1> <p class=article__meta> Posted on <time datetime=2017-04-18>Apr 18 2017</time> </p> </header> <p>&ldquo;Hey Ben what have you been working on recently?&rdquo; is a question that usually ends in a lengthy answer about new work stuff and how I&#39;m excited for the future but usually no code links to <em>show</em> what I&#39;ve been <del>playing</del> working on. Until now at least. This is because the team behind <a href="http://www.bbc.co.uk/programmes">bbc.co.uk/programmes</a> is switching to a &ldquo;Developing in the Open&rdquo; mindset for our new projects. This is a process popularised by <a href="https://www.gov.uk/service-manual/technology/making-source-code-open-and-reusable">GDS</a>, <a href="https://www.theguardian.com/info/developer-blog/2014/nov/28/developing-in-the-open">The Guardian</a>, and <a href="https://github.com/financial-times">The Financial Times</a>.</p> <p>The BBC has a long tradition of publishing <a href="http://www.bbc.co.uk/opensource">Open Source</a> software and has used Developing in the Open for internal-use libraries such as Sport&#39;s <a href="https://github.com/bbc/grandstand">Grandstand</a> CSS framework, but I think this might be the first instance of opening up the application code that is used to directly power BBC systems.</p> <p>Here&#39;s a little primer on what that means and what the team had to go through to get to this point.</p> <h2>What is Developing in the Open?</h2> <p>Developing in the Open is having your source code publicly accessible and licensed and thus available to be seen and used by all. This is very similar to the traditional model you think of when you hear &ldquo;Open Source&rdquo;, however there is a crucial difference. Open Source is for projects that you expect other people to use and contribute to, while Developing in the Open offers no such expectation.</p> <p>As the code we are publicising is specifically for our team&#39;s needs, nobody else would find value in copying the whole thing verbatim and thus wouldn&#39;t be interested in providing patches. Though I&#39;m sure some people will make some typo fixes in our READMEs so they get marked as having contributed to a BBC repo. However that doesn&#39;t mean we should hide our code away - there is still value in small portions of the app: a reusable CSS utility, or how to structure a set of domain models would be useful things that other people can see and make use of.</p> <p>It&#39;s an inversion of the classical belief that things should be hidden by default - instead lets make things visible by default and only hide that which is sensitive. If something isn&#39;t worth selling, then why not offer it for free?</p> <h2>Why Develop in the Open?</h2> <p>The big, selfish reason is a sense of pride. We&#39;re working on applications we&#39;re proud of, both in terms of output and how they&#39;re put together. We should be able to show the world what we&#39;ve made.</p> <p>Occasionally we come up with something we think is worth sharing, such as <a href="http://codepen.io/BPScott/pen/NGPMQQ">a CSS utility to deal with image ratios</a>, <a href="http://codepen.io/BPScott/pen/QbXBjo">a neat naming convention for grid width classes</a>, or even a <a href="https://www.youtube.com/watch?v=qSrM411MD8A">methodology for structuring a design system</a> and having our code be open allows us to show people those things within the context of our applications, in addition to creating toy demo examples.</p> <p>It helps improve our code quality. We have to be stricter about following best practices instead of giving into the temptation of getting sloppy and we&#39;ll feel more compelled to produce higher quality code / commit messages if we know there&#39;s a chance more people shall read what we produce.</p> <p>The Ministry of Justice recently put out a blog post about <a href="https://mojdigital.blog.gov.uk/2017/02/21/why-we-code-in-the-open/">why they code in the open</a> that covers a couple of other pros.</p> <h2>Due Diligence</h2> <p>Moving to an open by default model does have some risks. You need to be more careful about how you handle sensitive data such as passwords, API keys and information that may give malicious outsiders too much information. Ideally you should already be mindful about these things - storing secrets in a private place that is then merged with your public code using <a href="https://12factor.net/config">environment variables</a> or some other mechanism as part of your deployment process.</p> <p>Ensuring nothing sensitive gets into the repo is an ongoing process and should anything sensitive be accidentally committed then the secret should be revoked and changed immediately. Fortunately we are petty good at this already, our secrets are stored in a separate system - Cosmos - the BBC&#39;s in-house deployment tooling.</p> <p>As we are opening up projects that have already been in active development we had to go audit the history of the project to ensure nothing sensitive existed in the repo.</p> <p>We found no passwords but we stored our AWS infrastructure configuration - <a href="https://aws.amazon.com/cloudformation/">CloudFormation templates</a> and the <a href="https://github.com/cloudtools/troposphere">Troposphere</a> config that builds them as part of the repository. While this information is not instantly recognisable as sensitive - it is a template we fill with precise values at a later point - we decided that there is no value in exposing this information. The templates are equivalent to a blueprint of a house - any potential bad-actor would be able to work it out should they get inside, but that doesn&#39;t mean we should tell them the layout up front. This configuration was purged from our git history using <code>git filter-branch</code>, following <a href="https://help.github.com/articles/removing-sensitive-data-from-a-repository/">GitHub&#39;s guide for removing sensitive data</a>.</p> <p>GDS have wrote a couple of articles about other things to consider when opening up a code base and when it might not be appropriate:</p> <ul> <li><a href="https://www.gov.uk/service-manual/technology/making-source-code-open-and-reusable">GDS service manual on making code open</a></li> <li><a href="https://gds.blog.gov.uk/2014/10/08/when-is-it-ok-not-to-open-all-source-code/">When is it ok not to open all source code?</a></li> <li><a href="https://gdstechnology.blog.gov.uk/2016/01/26/working-out-how-to-open-up-the-register-to-vote-code/">Working out how to open up the Register to Vote code</a></li> </ul> <h2>Licensing</h2> <p>By default a person (or team) retains the rights to their own work and thus nobody else may used that work. You need to explicitly include a LICENSE file in your repository to loosen or change those rights if you want other people to be able to use your work without fear of repercussion. <a href="https://choosealicense.com/">choosealicence.com</a> provides a list of licenses suitable for open-source that allows other people to use your work, roughly ranked in order of restrictiveness.</p> <p>For the my team&#39;s projects we wanted to allow anybody to be able to use our code in any project. We don&#39;t want a viral copyleft license like <a href="https://choosealicense.com/licenses/agpl-3.0/">AGPL</a> that enforces any project that takes code from our repo to also be openly licensed under the same terms. Making a project have to change its license if they wish to use a neat CSS pattern we created is unreasonably heavy handed.</p> <p>We also want to retain the rights to any patentable work. Software patents are idiotic, but by us asserting that we own the right to patent anything we produce, we stop somebody else taking our work and patenting it (and profiting off it) themselves.</p> <p>The license we chose is the <a href="https://choosealicense.com/licenses/apache-2.0/">Apache 2.0 License</a>. This offers us patent protection, which its nearest sibling the <a href="https://choosealicense.com/licenses/mit/">MIT License</a> does not - this is pretty much the only difference between the two. It also does not enforce a license on any projects that use any of our code. This is the &ldquo;standard&rdquo; license that be BBC uses for its open-source works and also what the <a href="https://github.com/guardian/frontend">Guardian</a> uses for its webapp code.</p> <h2>Conclusion</h2> <p>A list of our public repositories can be found on GitHub, tagged with <a href="https://github.com/search?q=topic%3Abbc-programmes+org%3Abbc&amp;type=Repositories">bbc&#8209;programmes</a>. Of particular note right now are:</p> <ul> <li><a href="https://github.com/bbc/programmes-pages-service">programmes-pages-service</a> - A PHP library containing our Database schema, domain models and tools to request data from our Database. Our new model layer.</li> <li><a href="https://github.com/bbc/programmes-clifton">programmes-clifton</a> - A JSON API powered by Symfony 3, using programmes-pages-service. It is a drop-in replacement for a legacy API, so we can continue to produce pages using the the existing <a href="http://www.bbc.co.uk/programmes">www.bbc.co.uk/programmes</a> frontend while we work on its replacement.</li> <li><a href="https://github.com/bbc/programmes-frontend">programmes-frontend</a> - The new Symfony 3 powered web app that shall eventually power <a href="http://www.bbc.co.uk/programmes">www.bbc.co.uk/programmes</a>. This is very, very work-in-progress right now and we&#39;re still working out how it&#39;ll all fit together.</li> </ul> </article> </div> <footer class=page-footer> </footer> </div> <div class=page-footer-outer> <p class=copy-info> &copy; Ben Scott 2018. @BPScott on <a href="https://twitter.com/BPScott">Twitter</a> and <a href="https://github.com/BPScott">GitHub</a>. </p> </div> </body> </html>